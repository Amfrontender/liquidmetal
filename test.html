<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>liquidmetal tests</title>
    <style>
      .pass { display: inline; color: green; }
      .fail { display: block; color: red; }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js" type="text/javascript"></script>
    <script src="liquidmetal.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        function shouldScore(expected, string, abbreviation) {
          var score = LiquidMetal.score(string, abbreviation);
          var roundedScore = Math.round(score*1000)/1000;
          var pass = (expected == roundedScore);
          var result = (pass) ? "pass" : "fail";

          var desc = "."
          if (!pass) {
            desc = "LiquidMetal.score('" + string + "', '" + abbreviation + "') should match " + expected + " but was " + score;
          }
          $("body").append($("<div></div>").addClass(result).text(desc));
        }

        shouldScore(0.8, "", "");
        shouldScore(0.0, "", "a");
        shouldScore(0.8, "a", "");
        shouldScore(0.0, "a", "toolong");
        shouldScore(1.0, "a", "a");
        shouldScore(0.0, "a", "b");
        shouldScore(0.8, "abc", "");
        shouldScore(0.933, "abc", "a");
        shouldScore(0.6, "abc", "b");
        shouldScore(0.333, "abc", "c");
        shouldScore(1.0, "A", "a");
        shouldScore(0.8, "FooBar", "");
        shouldScore(0.95, "FooBar", "foo");
        shouldScore(0.917, "FooBar", "fb");
        shouldScore(0.858, "FooBar", "b");
        shouldScore(0.667, "FooBar", "ooar");
        shouldScore(0.8, "Foo Bar", "");
        shouldScore(0.943, "Foo Bar", "foo");
        shouldScore(0.929, "Foo Bar", "fb");
        shouldScore(0.879, "Foo Bar", "b");
        shouldScore(0.571, "Foo Bar", "ooar");
        shouldScore(0.0, "Foo Bar", "bab");
      });
    </script>
  </head>
  <body>

  </body>
</html>
